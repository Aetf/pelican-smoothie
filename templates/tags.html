{% extends 'base.html' %}

{% block meta %}
<link href="/theme/jQCloud/dist/jqcloud.min.css" rel="stylesheet">
<link href="/theme/css/jqcloud-custom.css" rel="stylesheet">
{% endblock meta %}

{% block analytics %}
{{ super() }}
<script>
    mixpanel.track("Page", {"Name": "Tags", "url": "{{output_file}}"  }) ;
</script>
{% endblock analytics %}

{% block titletag %}
Tag Cloud - {{ super() }}
{% endblock titletag %}

{% set header_class = "intro-header-page" %}
{% set header_bg = COVER_IMG %}
{% block header %}
<div class="pure-u-5-24 pure-u-md-5-24 pure-u-lg-5-24"></div>
<div class="pure-u-14-24 pure-u-md-14-24 pure-u-lg-14-24">
    <h1 class="article-heading">Tag Cloud</h1>
</div>
{% endblock header %}

{% set waypoint_selector = '.article-heading' %}
{% set fab_main_link = 'blog' %}
{% set fab_main_label = 'Blog' %}
{% set fab_main_icon = 'keyboard_arrow_left' %}
{% set fab_main_icon_class = 'md-light' %}
{% set fab_main_icon_hover = 'description' %}
{% set fab_main_color = 'blue' %}
{% set fab_main_color_dark = 'blue' -%}
{% block fabmenu %}
{% endblock fabmenu %}
{% block fabtoggle %} {% endblock fabtoggle %}

<!-- Page Content -->
{% block content %}
<div class="pure-u-3-24 pure-u-md-3-24 pure-u-lg-3-24"></div>
<div class="pure-u-18-24 pure-u-md-18-24 pure-u-lg-18-24">
    <div class="entry-content">
        <div class="tagcloud"></div>
    </div>
</div>
<hr>
{% endblock content %}

{% block jscripts %}
{{ super() }}
<!-- jQCloud scripts -->
<script src="/theme/jQCloud/dist/jqcloud.min.js"></script>
<script>
    $(function() {
        $("div.tagcloud").jQCloud([
            {% for tag, weight in tag_cloud|sort %}
            {
                text: "{{ tag.name }}",
                weight: {{- TAG_CLOUD_STEPS + 1 - weight -}},
                link: "{{- tag.url | absurl -}}"
            },
            {% endfor %}
        ],
        {
            height: window.innerHeight * 0.45,
            autoResize: true,
            steps: {{- TAG_CLOUD_STEPS -}},
            delay: 50,
            encodeURI: false,
        });
    });
</script>
{% endblock jscripts %}